<app-navbar></app-navbar>

<div class="diskuze-page">
  <div class="diskuze-header">
    <h1>Diskuze k týmům</h1>
  </div>

  <div class="diskuze-content">
    <div class="comment-column">
      <div *ngIf="selectedTeamId">
        <h2>Komentáře k týmu: {{ selectedTeamName }}</h2>

        <div *ngFor="let comment of comments" class="comment-box">
          <p class="comment-user">Uživatel {{ comment.userId }}</p>
          <p class="comment-content">{{ comment.content }}</p>
          <p class="comment-date">{{ comment.createdAt | date: 'short' }}</p>
        </div>

        <div *ngIf="isLoggedIn; else loginPrompt" class="comment-form">
          <textarea [(ngModel)]="newComment" rows="3" placeholder="Napiš komentář..."></textarea>
          <button (click)="submitComment()">Odeslat</button>
        </div>

        <ng-template #loginPrompt>
          <p class="login-warning">Pro přidání komentáře se musíš přihlásit.</p>
        </ng-template>
      </div>
    </div>

    <div class="team-column">
      <h3>Týmy</h3>
      <ul>
        <li *ngFor="let team of teams"
            [class.active]="team.id === selectedTeamId"
            (click)="selectTeam(team.id)">
          {{ team.name }}
        </li>
      </ul>
    </div>
  </div>
</div>
